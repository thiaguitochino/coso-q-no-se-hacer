<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Alumnos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1 class="text-center mb-4">Lista de Alumnos</h1>

    <?php
    $host = "localhost";
    $usuario = "root";
    $contrasena = "";
    $base_datos = "escueladb";

    $conn = new mysqli($host, $usuario, $contrasena, $base_datos);

    if ($conn->connect_error) {
        die('<div class="alert alert-danger">Conexión fallida: ' . htmlspecialchars($conn->connect_error) . '</div>');
    }

    $editar = false;
    $alumnoEditar = ["nombre" => "", "apellido" => "", "materia" => "", "nota" => ""];
    $id_original = "";

    // Insertar alumnoo
    if ($_SERVER["REQUEST_METHOD"] === "POST" && isset($_POST["insertar"])) {
        $nombre = trim($_POST["nombre"]);
        $apellido = trim($_POST["apellido"]);
        $materia = trim($_POST["materia"]);
        $nota = trim($_POST["nota"]);

        if ($nombre !== "" && $apellido !== "" && $materia !== "" && $nota !== "") {
            $nota = floatval($nota);
            $sql = "INSERT INTO alumnoo (nombre, apellido, materia, nota) VALUES (?, ?, ?, ?)";
            $stmt = $conn->prepare($sql);
            $stmt->bind_param("sssd", $nombre, $apellido, $materia, $nota);

            if ($stmt->execute()) {
                echo '<div class="alert alert-success">Alumno agregado correctamente.</div>';
            } else {
                echo '<div class="alert alert-danger">Error: ' . htmlspecialchars($conn->error) . '</div>';
            }
            $stmt->close();
        } else {
            echo '<div class="alert alert-warning">Todos los campos son obligatorios.</div>';
        }
    }

    // Eliminar alumnoo
    if ($_SERVER["REQUEST_METHOD"] === "POST" && isset($_POST["eliminar"])) {
        $id_eliminar = intval($_POST["id_eliminar"]);

        $sql = "DELETE FROM alumnoo WHERE id = ?";
        $stmt = $conn->prepare($sql);
        $stmt->bind_param("i", $id_eliminar);
        $stmt->execute();

        if ($stmt->affected_rows > 0) {
            echo '<div class="alert alert-success">Alumno eliminado correctamente.</div>';
        } else {
            echo '<div class="alert alert-warning">No se encontró el alumno.</div>';
        }
        $stmt->close();
    }

    // Obtener alumnoo para edición
    if (isset($_GET["editar"])) {
        $id_editar = intval($_GET["editar"]);
        $sql = "SELECT * FROM alumnoo WHERE id = ?";
        $stmt = $conn->prepare($sql);
        $stmt->bind_param("i", $id_editar);
        $stmt->execute();
        $resultado = $stmt->get_result();

        if ($resultado->num_rows > 0) {
            $editar = true;
            $alumnoEditar = $resultado->fetch_assoc();
            $id_original = $alumnoEditar["id"];
        } else {
            echo '<div class="alert alert-warning">Alumno no encontrado.</div>';
        }
        $stmt->close();
    }

    // Actualizar alumnoo
    if ($_SERVER["REQUEST_METHOD"] === "POST" && isset($_POST["actualizar"])) {
        $nuevo_nombre = trim($_POST["nombre"]);
        $nuevo_apellido = trim($_POST["apellido"]);
        $nueva_materia = trim($_POST["materia"]);
        $nueva_nota = trim($_POST["nota"]);
        $id_original = intval($_POST["id_original"]);

        if ($nuevo_nombre !== "" && $nuevo_apellido !== "" && $nueva_materia !== "" && $nueva_nota !== "") {
            $nueva_nota = floatval($nueva_nota);
            $sql = "UPDATE alumnoo SET nombre = ?, apellido = ?, materia = ?, nota = ? WHERE id = ?";
            $stmt = $conn->prepare($sql);
            $stmt->bind_param("sssdi", $nuevo_nombre, $nuevo_apellido, $nueva_materia, $nueva_nota, $id_original);

            if ($stmt->execute()) {
                echo '<div class="alert alert-success">Alumno actualizado correctamente.</div>';
                $editar = false;
                $alumnoEditar = ["nombre" => "", "apellido" => "", "materia" => "", "nota" => ""];
            } else {
                echo '<div class="alert alert-danger">Error al actualizar: ' . htmlspecialchars($conn->error) . '</div>';
            }

            $stmt->close();
        } else {
            echo '<div class="alert alert-warning">Completa todos los campos.</div>';
        }
    }

    // Mostrar tabla de alumnoo
    $resultado = $conn->query("SELECT * FROM alumnoo ORDER BY apellido");

    if ($resultado->num_rows > 0) {
        echo '<table class="table table-bordered mt-4">';
        echo '<thead class="table-dark"><tr><th>Nombre</th><th>Apellido</th><th>Materia</th><th>Nota</th><th>Acciones</th></tr></thead><tbody>';

        while ($fila = $resultado->fetch_assoc()) {
            echo '<tr>';
            echo '<td>' . htmlspecialchars($fila["nombre"]) . '</td>';
            echo '<td>' . htmlspecialchars($fila["apellido"]) . '</td>';
            echo '<td>' . htmlspecialchars($fila["materia"]) . '</td>';
            echo '<td>' . number_format($fila["nota"], 2) . '</td>';
            echo '<td>
                    <form method="POST" action="" onsubmit="return confirm(\'¿Eliminar este alumno?\')" style="display:inline-block;">
                        <input type="hidden" name="id_eliminar" value="' . htmlspecialchars($fila["id"]) . '">
                        <button type="submit" name="eliminar" class="btn btn-danger btn-sm">Eliminar</button>
                    </form>
                    <a href="?editar=' . urlencode($fila["id"]) . '" class="btn btn-warning btn-sm ms-2">Editar</a>
                  </td>';
            echo '</tr>';
        }

        echo '</tbody></table>';
    } else {
        echo '<div class="alert alert-info mt-4">No hay alumnos registrados.</div>';
    }

    $conn->close();
    ?>

    <!-- Formulario -->
    <div class="card mt-5">
        <div class="card-header bg-primary text-white">
            <?php echo $editar ? 'Editar Alumno' : 'Agregar Nuevo Alumno'; ?>
        </div>
        <div class="card-body">
            <form method="POST" action="">
                <div class="mb-3">
                    <label for="nombre" class="form-label">Nombre:</label>
                    <input type="text" class="form-control" id="nombre" name="nombre" required value="<?php echo htmlspecialchars($alumnoEditar["nombre"] ?? ''); ?>">
                </div>
                <div class="mb-3">
                    <label for="apellido" class="form-label">Apellido:</label>
                    <input type="text" class="form-control" id="apellido" name="apellido" required value="<?php echo htmlspecialchars($alumnoEditar["apellido"] ?? ''); ?>">
                </div>
                <div class="mb-3">
                    <label for="materia" class="form-label">Materia:</label>
                    <input type="text" class="form-control" id="materia" name="materia" required value="<?php echo htmlspecialchars($alumnoEditar["materia"] ?? ''); ?>">
                </div>
                <div class="mb-3">
                    <label for="nota" class="form-label">Nota:</label>
                    <input type="number" step="0.01" class="form-control" id="nota" name="nota" required value="<?php echo htmlspecialchars($alumnoEditar["nota"] ?? ''); ?>">
                </div>

                <?php if ($editar): ?>
                    <input type="hidden" name="id_original" value="<?php echo htmlspecialchars($id_original); ?>">
                    <button type="submit" name="actualizar" class="btn btn-warning">Actualizar Alumno</button>
                    <a href="?" class="btn btn-secondary ms-2">Cancelar</a>
                <?php else: ?>
                    <button type="submit" name="insertar" class="btn btn-success">Agregar Alumno</button>
                <?php endif; ?>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
primera parte index.php









<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Notas - ABM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>

<div class="container mt-4">
    <h1 class="mb-4">Notas de los Alumnos</h1>
    <a href="index.php" class="btn btn-outline-secondary mb-3">← Volver al Inicio</a>

    <?php
    $conn = new mysqli("localhost", "root", "", "escueladb");
    if ($conn->connect_error) {
        die('<div class="alert alert-danger">Error de conexión: ' . $conn->connect_error . '</div>');
    }

    if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['guardar_nota'])) {
        $alumno_id = $_POST['alumno_id'] ?? null;
        $materia = trim($_POST['materia'] ?? '');
        $nota = $_POST['nota'] ?? null;

        if ($alumno_id && $materia !== '' && is_numeric($nota)) {
            $stmt = $conn->prepare("INSERT INTO notas (fk_alumno, materia, nota) VALUES (?, ?, ?)");
            if ($stmt === false) {
                echo '<div class="alert alert-danger">Error en prepare(): ' . $conn->error . '</div>';
            } else {
                $stmt->bind_param("isd", $alumno_id, $materia, $nota);
                if ($stmt->execute()) {
                    echo '<div class="alert alert-success">Nota guardada correctamente.</div>';
                } else {
                    echo '<div class="alert alert-danger">Error al guardar nota: ' . $stmt->error . '</div>';
                }
                $stmt->close();
            }
        } else {
            echo '<div class="alert alert-warning">Complete todos los campos correctamente.</div>';
        }
    }

    // Obtener alumnos desde la tabla alumnoo
    $alumnos = $conn->query("SELECT id, nombre, apellido FROM alumnoo ORDER BY apellido ASC");
    ?>

    <form method="POST" action="notas.php" class="mb-5">
        <div class="mb-3">
            <label for="alumno_id" class="form-label">Alumno</label>
            <select name="alumno_id" id="alumno_id" class="form-select" required>
                <option value="">Seleccione un alumno</option>
                <?php while ($row = $alumnos->fetch_assoc()) : ?>
                    <option value="<?= htmlspecialchars($row['id']) ?>">
                        <?= htmlspecialchars($row['apellido'] . ', ' . $row['nombre']) ?>
                    </option>
                <?php endwhile; ?>
            </select>
        </div>

        <div class="mb-3">
            <label for="materia" class="form-label">Materia</label>
            <input type="text" name="materia" id="materia" class="form-control" required />
        </div>

        <div class="mb-3">
            <label for="nota" class="form-label">Nota</label>
            <input type="number" step="0.01" name="nota" id="nota" class="form-control" required />
        </div>

        <button type="submit" name="guardar_nota" class="btn btn-success">Guardar Nota</button>
    </form>

    <?php
    // Mostrar todas las notas con info del alumnoo
    $sql_notas = "
        SELECT n.pk_nota, a.nombre, a.apellido, n.materia, n.nota
        FROM notas n
        INNER JOIN alumnoo a ON n.fk_alumno = a.id
        ORDER BY n.pk_nota DESC
    ";

    $result_notas = $conn->query($sql_notas);

    if ($result_notas && $result_notas->num_rows > 0) {
        echo '<table class="table table-striped table-bordered">';
        echo '<thead class="table-dark">';
        echo '<tr><th>ID Nota</th><th>Nombre</th><th>Apellido</th><th>Materia</th><th>Nota</th></tr>';
        echo '</thead><tbody>';

        while ($nota = $result_notas->fetch_assoc()) {
            echo '<tr>';
            echo '<td>' . htmlspecialchars($nota['pk_nota']) . '</td>';
            echo '<td>' . htmlspecialchars($nota['nombre']) . '</td>';
            echo '<td>' . htmlspecialchars($nota['apellido']) . '</td>';
            echo '<td>' . htmlspecialchars($nota['materia']) . '</td>';
            echo '<td>' . number_format($nota['nota'], 2) . '</td>';
            echo '</tr>';
        }

        echo '</tbody></table>';
    } else {
        echo '<div class="alert alert-info">No hay notas registradas.</div>';
    }

    $conn->close();
    ?>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>  

segunda parte notas.php








<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alumnos - ABM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>

<div class="container mt-4">
    <h1 class="mb-4">Lista de Alumnos</h1>
    <a href="index.php" class="btn btn-outline-secondary mb-3">← Volver al Inicio</a>

    <?php
    $conn = new mysqli("localhost", "root", "", "escueladb");
    if ($conn->connect_error) {
        die('<div class="alert alert-danger">Error de conexión: ' . $conn->connect_error . '</div>');
    }

    if ($_SERVER['REQUEST_METHOD'] == 'POST' && isset($_POST['insertar'])) {
        $dni = trim($_POST['dni']);
        $legajo = trim($_POST['legajo']);
        $curso = trim($_POST['curso']);

        if (empty($dni) || empty($legajo) || empty($curso)) {
            echo '<div class="alert alert-danger">Por favor, ingresa todos los valores.</div>';
        } elseif (!is_numeric($dni) || !is_numeric($legajo)) {
            echo '<div class="alert alert-warning">DNI y Legajo deben ser números.</div>';
        } else {
            $sql_insert = "INSERT INTO persona (dni, n_legajo, curso) VALUES (?, ?, ?)";
            $stmt = $conn->prepare($sql_insert);
            if ($stmt === false) {
                echo '<div class="alert alert-danger">Error en prepare(): ' . $conn->error . '</div>';
            } else {
                $stmt->bind_param("sss", $dni, $legajo, $curso);
                if ($stmt->execute()) {
                    echo '<div class="alert alert-success">Datos insertados correctamente.</div>';
                } else {
                    echo '<div class="alert alert-danger">Error al insertar los datos: ' . $stmt->error . '</div>';
                }
                $stmt->close();
            }
        }
    }

    $sql = "SELECT pk_alumno, n_legajo, dni, curso FROM persona ORDER BY pk_alumno DESC";
    $resultado = $conn->query($sql);

    if ($resultado && $resultado->num_rows > 0) {
        echo '<table class="table table-striped table-bordered mt-4">';
        echo '<thead class="table-dark">';
        echo '<tr><th>ID</th><th>Legajo</th><th>DNI</th><th>Curso</th></tr>';
        echo '</thead><tbody>';
        while ($fila = $resultado->fetch_assoc()) {
            echo '<tr>';
            echo '<td>' . htmlspecialchars($fila["pk_alumno"]) . '</td>';
            echo '<td>' . htmlspecialchars($fila["n_legajo"]) . '</td>';
            echo '<td>' . htmlspecialchars($fila["dni"]) . '</td>';
            echo '<td>' . htmlspecialchars($fila["curso"]) . '</td>';
            echo '</tr>';
        }
        echo '</tbody></table>';
    } else {
        echo '<div class="alert alert-info">No se encontraron alumnos registrados.</div>';
    }

    $conn->close();
    ?>

    <hr class="mt-5" />

    <div class="mt-4">
        <h2>Ingresar Nuevo Alumno</h2>
        <form action="alumnos.php" method="POST">
            <div class="mb-3">
                <label for="dni" class="form-label">DNI</label>
                <input type="text" class="form-control" id="dni" name="dni" placeholder="Ingrese el DNI" required />
            </div>

            <div class="mb-3">
                <label for="legajo" class="form-label">Legajo</label>
                <input type="text" class="form-control" id="legajo" name="legajo" placeholder="Ingrese el Legajo" required />
            </div>

            <div class="mb-3">
                <label for="curso" class="form-label">Curso</label>
                <input type="text" class="form-control" id="curso" name="curso" placeholder="Ingrese el Curso" required />
            </div>

            <button type="submit" name="insertar" class="btn btn-primary">Insertar Datos</button>
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>  


3ra parte que tengo que ponerle los valores de mi codigo   alumnos.php
